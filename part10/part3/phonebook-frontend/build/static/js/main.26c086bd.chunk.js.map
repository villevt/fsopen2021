{"version":3,"sources":["services/numbers.js","components/AddNumber.js","components/Filter.js","components/Notification.js","components/Number.js","components/Numbers.js","App.js","index.js"],"names":["url","numberService","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","updatedObject","put","AddNumber","handleSubmit","onClick","event","preventDefault","target","form","value","alert","type","Filter","handleFilter","onChange","Notification","message","error","style","color","marginBottom","padding","width","backgroundColor","Number","person","name","number","removeHandler","Numbers","persons","sort","a","b","toLowerCase","map","App","useState","setPersons","filter","setFilter","notification","setNotification","notificationTimeout","newNotification","setTimeout","personSetter","values","window","confirm","val","catch","useEffect","numbers","startsWith","newFilter","newName","newNumber","some","find","concat","ReactDOM","render","document","getElementById"],"mappings":"wKAEMA,EAAM,eA2BGC,EAPO,CAClBC,OAnBW,WAGX,OAFAC,IAAMC,IAAIJ,GAEHG,IAAMC,IAAIJ,GAAKK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBhDC,OAdW,SAAAC,GACX,OAAON,IAAMO,KAAKV,EAAKS,GAAWJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc5DI,OAXW,SAAAC,GACX,OAAOT,IAAMU,OAAN,UAAgBb,EAAhB,YAAuBY,IAAMP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAW9DO,OARW,SAAAC,GACX,OAAOZ,IAAMa,IAAN,UAAahB,EAAb,YAAoBe,EAAcH,IAAMG,GAAeV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,U,OCW7EU,EA5BG,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,aAahB,OACI,iCACI,yCACU,6BAEV,2CACY,6BAEZ,8BACI,wBAAQC,QArBE,SAACC,GACnBA,EAAMC,iBAE6B,KAA/BD,EAAME,OAAOC,KAAK,GAAGC,MACrBC,MAAM,yBACgC,KAA/BL,EAAME,OAAOC,KAAK,GAAGC,MAC5BC,MAAM,2BAENP,EAAaE,IAauBM,KAAK,SAArC,uBChBDC,EANA,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAF,OACX,qDACsB,uBAAOC,SAAUD,QCuB5BE,EAzBM,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,MACtBC,EAAQ,CACVC,MAAO,QACPC,aAAc,OACdC,QAAS,MACTC,MAAO,OASX,OALIJ,EAAMK,gBADNN,EACwB,MAEA,QAGxBD,EAEI,qBAAKE,MAAOA,EAAZ,SACKF,IAIF,MCTAQ,EAZA,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAF,OACX,+BACI,6BAAKA,EAAOC,OACZ,6BAAKD,EAAOE,SACZ,6BACI,wBAAQvB,QAASqB,EAAOG,cAAxB,0BCOGC,EAVC,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAF,OACZ,gCACI,gCACKA,EAAQC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEN,KAAKQ,cAAgBD,EAAEP,KAAKQ,eAAiB,EAAI,KAAGC,KAAI,SAAAV,GAAM,OACpF,cAAC,EAAD,CAAwBA,OAAQA,GAAnBA,EAAO5B,YCoGrBuC,EAnGH,WACV,MAA8BC,mBAAS,CAAC,KAAxC,mBAAOP,EAAP,KAAgBQ,EAAhB,KACA,EAA4BD,mBAAS,IAArC,mBAAOE,EAAP,KAAeC,EAAf,KACA,EAAsCH,mBAAS,CAC7CI,aAAc,KACdxB,OAAO,IAFT,mBAAKwB,EAAL,KAAmBC,EAAnB,KAKMC,EAAsB,SAACC,GAAkC,IAAjB3B,EAAgB,wDAC5DyB,EAAgB,CACdD,aAAcG,EACd3B,MAAOA,IAET4B,YAAW,kBAAMH,EAAgB,CAACD,aAAc,KAAMxB,OAAO,MAAS,MAGlE6B,EAAe,SAAfA,EAAgBC,GACpBT,EAAWS,EAAOZ,KAAI,SAAA1B,GACpB,OAAO,2BAAIA,GAAX,IAAkBmB,cAAe,WAC3BoB,OAAOC,QAAP,iBAAyBxC,EAAMiB,KAA/B,OACFxC,EAAcU,OAAOa,EAAMZ,IAC1BP,MAAK,SAAAC,GACJuD,EAAaC,EAAOR,QAAO,SAAAW,GAAG,OAAIA,EAAIrD,KAAOY,EAAMZ,OACnD8C,EAAoB,WAAD,OAAYlC,EAAMiB,UAEtCyB,OAAM,SAAAlC,GAAK,OAAI0B,EAAoB,4BAAD,OAA6B1B,EAAM1B,SAASC,KAAKyB,QAAS,cAMrGmC,qBAAU,WACRlE,EAAcC,SACXG,MAAK,SAAAC,GAAQ,OAAIuD,EAAavD,MAC9B4D,OAAM,SAAAlC,GAAK,OAAI0B,EAAoB,gCAAD,OAAiC1B,EAAM1B,SAASC,KAAKyB,QAAS,QAClG,IAEH,IA4CIoC,EAAU,GAKd,OAJIvB,EAAQ,GAAGJ,OACb2B,EAAU,cAAC,EAAD,CAASvB,QAASA,EAAQS,QAAO,SAACd,GAAD,OAAYA,EAAOC,KAAKQ,cAAcoB,WAAWf,SAI5F,gCACE,2CACA,cAAC,EAAD,CAAcvB,QAASyB,EAAaA,aAAcxB,MAAOwB,EAAaxB,QACtE,cAAC,EAAD,CAAQJ,aArDU,SAACR,GACrB,IAAMkD,EAAYlD,EAAME,OAAOE,MAAMyB,cACrCM,EAAUe,MAoDR,2CACA,cAAC,EAAD,CAAWpD,aAlDG,SAACE,GACjB,IAAMmD,EAAUnD,EAAME,OAAOC,KAAK,GAAGC,MAC/BgD,EAAYpD,EAAME,OAAOC,KAAK,GAAGC,MAEnCqB,EAAQ4B,MAAK,SAACjD,GAAD,OAAWA,EAAMiB,OAAS8B,KACrCR,OAAOC,QAAP,UAAkBO,EAAlB,0EACFtE,EAAca,OAAO,CACnB2B,KAAM8B,EACN7B,OAAQ8B,EACR5D,GAAIiC,EAAQ6B,MAAK,SAAAlC,GAAM,OAAIA,EAAOC,OAAS8B,KAAS3D,KAEnDP,MAAK,SAAAC,GACJuD,EACEhB,EAAQK,KAAI,SAAAV,GAIV,OAHIA,EAAOC,OAAS8B,IAClB/B,EAAOE,OAAS8B,GAEXhC,MAGXkB,EAAoB,WAAD,OAAYpD,EAASmC,UACvCyB,OAAM,SAAAlC,GAAK,OAAI0B,EAAoB,0BAAD,OAA2B1B,EAAM1B,SAASC,KAAKyB,QAAS,MAExFa,EAAQ4B,MAAK,SAACjD,GAAD,OAAWA,EAAMkB,SAAW8B,KAClDd,EAAoB,GAAD,OAAIc,EAAJ,6BAEnBvE,EAAcO,OAAO,CACnBiC,KAAM8B,EACN7B,OAAQ8B,IACPnE,MAAK,SAAAC,GACJuD,EAAahB,EAAQ8B,OAAOrE,IAC5BoD,EAAoB,SAAD,OAAUpD,EAASmC,UAEvCyB,OAAM,SAAAlC,GACL0B,EAAoB,wBAAD,OAAyB1B,EAAM1B,SAASC,KAAKyB,QAAS,SAiB7E,yCACCoC,MCpGPQ,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.26c086bd.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst url = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    axios.get(url)\r\n\r\n    return axios.get(url).then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(url, newObject).then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${url}/${id}`).then(response => response.data)\r\n}\r\n\r\nconst update = updatedObject => {\r\n    return axios.put(`${url}/${updatedObject.id}`, updatedObject).then(response => response.data)\r\n}\r\n\r\nconst numberService = {\r\n    getAll,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n\r\nexport default numberService","import React from 'react'\r\n\r\nconst AddNumber = ({handleSubmit}) => {\r\n    const submitPressed = (event) => {\r\n        event.preventDefault()\r\n\r\n        if (event.target.form[0].value === \"\") {\r\n            alert(\"Please fill in a name\")\r\n        } else if (event.target.form[1].value === \"\") {\r\n            alert(\"Please fill in a number\")\r\n        } else {\r\n            handleSubmit(event)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input />\r\n            </div>\r\n            <div>\r\n                number: <input />\r\n            </div>\r\n            <div>\r\n                <button onClick={submitPressed} type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddNumber","import React from 'react'\r\n\r\nconst Filter = ({handleFilter}) => (\r\n    <div>\r\n        filter shown with <input onChange={handleFilter}/>\r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({message, error}) => {\r\n    const style = {\r\n        color: \"white\",\r\n        marginBottom: \"10px\",\r\n        padding: \"2px\",\r\n        width: \"50%\"\r\n    }\r\n\r\n    if (error) {\r\n        style.backgroundColor = \"red\"\r\n    } else {\r\n        style.backgroundColor = \"green\"\r\n    }\r\n\r\n    if (message) {\r\n        return (\r\n            <div style={style}>\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Number = ({person}) => (\r\n    <tr>\r\n        <td>{person.name}</td>\r\n        <td>{person.number}</td>\r\n        <td>\r\n            <button onClick={person.removeHandler}>\r\n                Remove\r\n            </button>\r\n        </td>\r\n    </tr>\r\n)\r\n\r\nexport default Number","import React from 'react'\r\n\r\nimport Number from \"./Number\"\r\n\r\nconst Numbers = ({persons}) => (\r\n    <table>\r\n        <tbody>\r\n            {persons.sort((a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1).map(person => \r\n                <Number key={person.id} person={person} />\r\n            )}\r\n        </tbody>\r\n    </table>\r\n)\r\n\r\nexport default Numbers","import React, {useEffect, useState} from 'react'\n\nimport numberService from \"./services/numbers\" \n\nimport AddNumber from \"./components/AddNumber\"\nimport Filter from \"./components/Filter\"\nimport Notification from \"./components/Notification\"\nimport Numbers from \"./components/Numbers\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([{}]) \n  const [filter, setFilter] = useState(\"\")\n  let [notification, setNotification] = useState({\n    notification: null,\n    error: false\n  })\n\n  const notificationTimeout = (newNotification, error=false) => {\n    setNotification({\n      notification: newNotification,\n      error: error\n    })\n    setTimeout(() => setNotification({notification: null, error: false}), 3000)\n  }\n\n  const personSetter = (values) => {\n    setPersons(values.map(value => {\n      return {...value, removeHandler: () => {\n        if (window.confirm(`Delete ${value.name}?`)) {\n          numberService.remove(value.id)\n          .then(response => {\n            personSetter(values.filter(val => val.id !== value.id))\n            notificationTimeout(`Deleted ${value.name}`)\n          })\n          .catch(error => notificationTimeout(`Failed to delete person\\n${error.response.data.error}`, true))\n        }\n      }}\n    }))\n  }\n\n  useEffect(() => {\n    numberService.getAll()\n      .then(response => personSetter(response))\n      .catch(error => notificationTimeout(`Failed to retrieve numbers \\n${error.response.data.error}`, true))\n  }, [])\n\n  const filterHandler = (event) => {\n    const newFilter = event.target.value.toLowerCase()\n    setFilter(newFilter)\n  }\n\n  const newPerson = (event) => {\n    const newName = event.target.form[0].value\n    const newNumber = event.target.form[1].value\n\n    if (persons.some((value) => value.name === newName)) {\n      if (window.confirm(`${newName} is already in the phonebook. Replace the old number with a new one?`)) {\n        numberService.update({\n          name: newName,\n          number: newNumber,\n          id: persons.find(person => person.name === newName).id\n        })\n          .then(response => {\n            personSetter(\n              persons.map(person => {\n                if (person.name === newName) {\n                  person.number = newNumber\n                }\n                return person\n              })  \n            )\n            notificationTimeout(`Updated ${response.name}`)\n          }).catch(error => notificationTimeout(`Error updating number\\n${error.response.data.error}`, true))\n      }\n    } else if (persons.some((value) => value.number === newNumber)) {\n      notificationTimeout(`${newNumber} is already in phonebook`)\n    } else {\n      numberService.create({\n        name: newName,\n        number: newNumber\n      }).then(response => {\n          personSetter(persons.concat(response))\n          notificationTimeout(`Added ${response.name}`)\n        })\n        .catch(error => {\n          notificationTimeout(`Error adding number\\n${error.response.data.error}`, true)\n        })\n    }\n  }\n\n  let numbers = \"\"\n  if (persons[0].name) {\n    numbers = <Numbers persons={persons.filter((person) => person.name.toLowerCase().startsWith(filter))}/>\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification.notification} error={notification.error}/>\n      <Filter handleFilter={filterHandler}/>\n      <h2>Add a new</h2>\n      <AddNumber handleSubmit={newPerson}/>\n      <h2>Numbers</h2>\n      {numbers}\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}